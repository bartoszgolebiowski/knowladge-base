# Config

## **Purpose and Goals**

- **Audit and Record Compliance:** Helps you track and evaluate the compliance of your AWS resource configurations over time.
- **Configuration History:** Records the configurations of your resources and any changes made to them.
- **Compliance Evaluation:** Allows you to define rules to assess whether your resource configurations comply with your desired state.
- **Notification of Non-Compliance:** Integrates with Amazon SNS to alert administrators about resources that deviate from compliance rules.

**Important Note:** AWS Config rules **evaluate compliance** but **do not prevent actions** that might lead to non-compliant configurations. This is a key distinction from services like SCPs (Service Control Policies).

## **Use Cases Solved by AWS Config**

- **Unrestricted Access:** Is there unrestricted SSH access to my security groups?
- **Public Buckets:** Do my S3 buckets have any form of public access?
- **Configuration Changes:** How has my Application Load Balancer (ALB) configuration changed over time?
- **Alerting on Deviations:** Receive notifications on SNS topics for any configuration changes.
- **Historical Analysis:** Track resource configurations and changes to understand past states.
- **Change Tracking:** Identify who made specific configuration changes and when (with CloudTrail integration).

## **Key Characteristics**

- **Per-Region Service:** You need to enable AWS Config in each AWS Region where you want to track resource configurations and compliance.
- **Cross-Account and Cross-Region Aggregation:** Config data can be aggregated into a central account (e.g., a security account) for organization-wide visibility.

## **Viewing Resource Compliance and Configuration**

- **Resource Compliance View:** See the compliance status (compliant/non-compliant) of individual resources based on the applied Config rules.
- **Configuration Timeline:** View the historical configuration of a resource, showing when changes occurred and what those changes were.
- **Change Author Tracking (with CloudTrail):** If AWS CloudTrail is enabled, you can see who made specific API calls that resulted in configuration changes directly within AWS Config.

## **Config Rules**

- **AWS Managed Config Rules:** Over 75 pre-built rules provided by AWS for common compliance checks.
- **Custom Config Rules:** You can create your own rules using AWS Lambda functions to implement specific compliance logic.
    - **Example Use Cases for Custom Rules:**
        - Check if EBS volumes are of type `gp2`.
        - Verify if EC2 instances in a development environment are of type `t2.micro` for cost control.
- **Rule Evaluation Triggers:**
    - **Configuration Change:** Evaluate the rule whenever a resource's configuration changes.
    - **Periodic:** Evaluate the rule at a scheduled interval (e.g., daily).

## **Integration and Automation**

- **Amazon SNS Notifications:** Receive alerts via SNS when a resource becomes non-compliant.
- **Amazon EventBridge:** Trigger events in EventBridge when a resource violates a Config rule, enabling integration with various AWS services for custom automation.
- **AWS Systems Manager (SSM) Automation:** Integrate Config rules with SSM Automation to automatically remediate non-compliant resources.
    - **Example Remediation Actions:**
        - Modify security group rules to remove unauthorized access.
        - Stop EC2 instances with non-approved tags.

**In summary, AWS Config is a crucial service for maintaining visibility into your AWS resource configurations and ensuring compliance with your defined standards. While it doesn't prevent non-compliant actions, it provides the necessary information and integration points for auditing, alerting, and automated remediation.**