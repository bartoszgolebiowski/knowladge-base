# CloudHSM

## **CloudHSM vs. KMS**

| **Feature** | **AWS KMS** | **AWS CloudHSM** |
| --- | --- | --- |
| **Key Management** | AWS manages software and encryption keys. | Customer fully manages their own encryption keys. |
| **Hardware** | AWS manages underlying hardware. | AWS provisions dedicated encryption hardware (HSM). |
| **Responsibility** | AWS handles security, maintenance, backups. | Customer handles all security, maintenance, backups. |
| **HSM** | N/A | Hardware Security Module, tamper-resistant. |
| **Encryption** | Symmetric and asymmetric. | Symmetric, asymmetric, TLS/SSL offloading. |
| **Free Tier** | Available. | Not available. |
| **Client Access** | API calls. | CloudHSM Client Software. |
| **Integration** | Many AWS services. | Redshift (database encryption), S3 (SSE-C key gen). |
| **Recovery** | AWS can manage keys (depending on type). | AWS cannot recover lost keys or devices. |
| **IAM Permissions** | Controls access to KMS keys. | Controls creation, description, deletion of clusters. |
| **Key Management (Cust)** | N/A | Create, read, update, delete keys; manage users. |

## **CloudHSM Architecture**

- AWS manages the underlying hardware.
- Customer is provided with a dedicated CloudHSM device.
- All key management and security are the customer's responsibility.
- CloudHSM Clients are needed to access and manage the device.
- Communication between clients and the device is encrypted.

## **High Availability for CloudHSM**

- Achieved by creating a CloudHSM **cluster** across multiple Availability Zones (AZs).
- Enhances availability and durability of encryption keys.
- Typical setup involves two or more CloudHSM devices in different AZs within a cluster.
- If one AZ fails, the application can still access the HSM in the other AZ.

## **CloudHSM vs. KMS - Detailed Comparison**

| **Feature** | **AWS KMS** | **AWS CloudHSM** |
| --- | --- | --- |
| **Tenancy** | Multi-tenant. | Single-tenant device. |
| **Compliance (Standard)** | FIPS 140-2 Level 3. | FIPS 140-2 Level 3. |
| **Master Keys** | AWS Owned, AWS Managed, Customer Managed CMK. | Customer Managed CMK only. |
| **Key Type** | Symmetric, asymmetric, digital signing. | Symmetric, asymmetric, digital signing, hashing. |
| **Key Accessibility** | Region-scoped (replication available). | Deployed and managed in specific VPC (shared via peering). |
| **Cryptographic Acceleration** | N/A | SSL/TLS, Oracle TDE. |
| **Access & Authorization** | IAM policies. | CloudHSM users and permissions managed within the device. |
| **High Availability** | Embedded in the service. | Requires multiple HSM devices across AZs. |
| **Audit Capability** | CloudTrail, CloudWatch. | CloudTrail, CloudWatch, **Multi-Factor Authentication support**. |
| **Free Tier** | Available. | Not available. |