# DataSync

# AWS DataSync

## Purpose and Goals

- Service to synchronize data between various storage locations.
- Facilitates moving large amounts of data to and from on-premises, other clouds, and within AWS.

## Key Concepts

- **Synchronization:** Moves data between source and destination.
- **Supported Locations:**
    - On-premises to AWS (S3, EFS, FSx)
    - Other clouds to AWS (S3, EFS, FSx)
    - Between AWS services (S3, EFS, FSx)
- **Protocols (for on-premises/other clouds):** NFS, SMB, HDFS.
- **Agent:** Required for connecting to on-premises or other cloud locations. Runs on-premises or in the other cloud environment.
- **No Agent Required:** When synchronizing between AWS services.
- **Destinations:** Amazon S3 (all storage classes including Glacier), Amazon EFS, Amazon FSx.
- **Scheduling:** Replication tasks are not continuous; they are scheduled (hourly, daily, weekly). This implies a lag in synchronization.
- **Metadata Preservation:** Crucially, DataSync preserves file permissions and metadata (security, etc.).
    - Compliant with NFS POSIX file system and SMB permissions.
    - This is often a unique feature compared to other migration options at the exam.
- **Performance:** One DataSync agent can achieve up to 10 Gbps.
- **Bandwidth Limits:** Can be configured to avoid saturating network capacity.

## Architecture and Use Cases

- **On-premises/Other Clouds to AWS:**
    - Install AWS DataSync agent on-premises/other cloud.
    - Agent connects to NFS/SMB server.
    - Agent establishes an encrypted connection to the DataSync service in AWS.
    - Data can be synchronized to S3, EFS, or FSx.
    - Synchronization can be one-way (to AWS) or bi-directional (back to on-premises).
- **AWS Snowcone Integration:**
    - Used when network capacity is limited.
    - Snowcone device comes with the DataSync agent pre-installed.
    - Data is copied to Snowcone on-premises, shipped to AWS, and then synchronized to AWS storage resources.
- **Between AWS Storage Services:**
    - DataSync service directly manages the synchronization between S3, EFS, and FSx.
    - Preserves both data and metadata during the transfer.

## Key Takeaways for the Exam

- DataSync is for scheduled data synchronization, not continuous replication.
- It supports various source and destination types (on-premises, other clouds, within AWS).
- **Metadata and permission preservation is a key differentiator.**
- An agent is required for external connections (on-premises, other clouds), but not for AWS-to-AWS transfers.
- Be aware of the Snowcone integration for network-constrained scenarios.