# Trusted Advisor

# AWS Trusted Advisor - Solution Architect Professional Notes

## Core Purpose

- Provides a high-level assessment of your AWS account.
- Analyzes your account against best practices in several categories.
- Offers recommendations to optimize your AWS environment.

## Categories of Recommendations

- Cost Optimization (**Important for Exam**)
- Performance
- Security
- Fault Tolerance
- Service Limits (**Important for Exam**)
- Operational Excellence (**Important for Exam**)

## Access Levels

- **All Customers (Free):** Access to a limited set of core checks and recommendations (seven checks).
- **Business and Enterprise Support Plans:** Access to the full suite of Trusted Advisor checks and features.

## Features for Business and Enterprise Support Plans

- Full access to all Trusted Advisor checks.
- Weekly email notifications of Trusted Advisor findings.
- Ability to select CloudWatch alarms for service limit warnings.
- Programmatic access using the AWS Support API.

## AWS Support Plans

- **Basic (Free):** Included for all customers, provides access to 7 core Trusted Advisor checks.
- **Developer (Paid):** Enhanced business support but still limited to 7 core Trusted Advisor checks.
- **Business (Paid):** Full access to Trusted Advisor checks and programmatic access.
- **Enterprise (Paid):** Full access to Trusted Advisor checks and programmatic access.

**Key Exam Point:** Remember that full Trusted Advisor access and programmatic access are only available with Business and Enterprise Support plans.

## Important Considerations

- **S3 Bucket Public Access:** Trusted Advisor checks if S3 buckets are public but **cannot** detect if individual objects within a private bucket are made public. Use EventBridge with S3 Events or AWS Config rules for object-level public access checks.
- **Service Limits:** Trusted Advisor monitors service limits, but increasing limits requires manually opening a support case or using the **AWS Service Quotas** service.

## Monitoring Service Limits at Scale (Advanced Architecture)

This architecture demonstrates how to proactively monitor and react to service limits:

1. **Trusted Advisor/Service Quotas:**
    - A Lambda function periodically refreshes Trusted Advisor checks and/or queries Service Quotas for current limits and usage.
    - Trusted Advisor checks (and Service Quotas) can be configured to trigger EventBridge rules when limits are approaching or exceeded.
2. **Cross-Account Monitoring:**
    - The same architecture can be implemented in secondary AWS accounts.
    - EventBridge cross-account event buses can forward these limit-related events to a central primary account.
3. **Central Event Processing (Primary Account):**
    - A central EventBridge event bus receives limit-related events from all monitored accounts.
    - EventBridge rules route these events to various targets:
        - **SNS Topic:** Sends email notifications to administrators.
        - **SQS Queue:** Buffers events for asynchronous processing by a Lambda function.
        - **Lambda Function (Summarizer):** Processes the limit events, aggregates information, and stores it in a DynamoDB table for centralized tracking.
        - **DLQ (Dead-Letter Queue):** Handles any failed event processing.
        - **Slack Notifier (Lambda):** Sends notifications to a Slack channel (credentials potentially retrieved securely from Parameter Store).
4. **Potential Automation (Advanced):** The central Lambda function could be extended to automatically request service limit increases via the AWS Service Quotas API (requires careful implementation and approval workflows).

## Key Takeaway for the Exam

- Trusted Advisor provides valuable recommendations across several categories, with full access requiring Business or Enterprise support.
- Understand its limitations (e.g., S3 object public access).
- Know that service limits are monitored but increases are handled via support cases or the Service Quotas service.
- Be aware of potential architectures for proactive service limit monitoring using Trusted Advisor, Service Quotas, EventBridge, and other AWS services.