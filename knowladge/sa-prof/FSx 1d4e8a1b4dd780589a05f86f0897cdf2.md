# FSx

# **Amazon FSx - Managed File Systems on AWS - Summary Notes**

Amazon FSx provides fully managed, high-performance file systems on AWS, similar to how RDS manages databases. It supports various third-party file systems.

## **Supported File Systems**

- **Amazon FSx for Windows File Server**
- **Amazon FSx for Lustre**
- **Amazon FSx for NetApp ONTAP**
- **Amazon FSx for OpenZFS**

## **1. Amazon FSx for Windows File Server**

- **Type:** Fully managed Windows File Server share drive.
- **Protocols:** SMB (Server Message Block), Windows NTFS.
- **Security:** Integration with Microsoft Active Directory, ACLs (Access Control Lists), User Quotas.
- **Linux Compatibility:** Can be mounted on Linux EC2 instances.
- **On-premises Integration:** Supports Microsoft Distributed File System (DFS) to join with on-premises Windows File Servers.
- **Performance:** Scales up to tens of GB/s throughput, millions of IOPS, and hundreds of petabytes of data.
- **Storage Options:**
    - **SSD:** Low latency, latency-sensitive workloads (databases, media processing, data analytics).
    - **HDD:** Lower cost, broad spectrum of workloads (home directories, CMS).
- **Access:** Accessible from on-premises via private connection.
- **High Availability:** Multi-AZ option for high availability.
- **Disaster Recovery:** Daily backups to Amazon S3.

## **2. Amazon FSx for Lustre**

- **Type:** Distributed file system for large-scale computing (derived from Linux and cluster).
- **Use Cases:** Machine Learning (ML), High-Performance Computing (HPC), video processing, financial modeling, electronic design automation.
- **Performance:** Scales up to hundreds of GB/s throughput, millions of IOPS, and sub-millisecond latency.
- **Storage Options:**
    - **SSD:** Very low latency, IOPS-intensive workloads, small and random file operations (more expensive).
    - **HDD:** Throughput-intensive workloads, large and sequential file operations (less expensive).
- **S3 Integration:** Seamless integration with Amazon S3 for reading data and writing results.
- **On-premises Access:** Accessible from on-premises via VPN or Direct Connect.
- **Deployment Options:**
    - **Scratch File System:**
        - Temporary storage, data **not** replicated.
        - High burst performance (6x persistent), e.g., 200 MB/s per TB throughput.
        - Use case: Short-term processing, cost optimization for non-critical data.
        - Single AZ deployment.
        - Optional underlying S3 buckets for data repository.
    - **Persistent File System:**
        - Long-term storage, data **replicated within the same Availability Zone (AZ)**.
        - Transparent file replacement within minutes upon underlying server failure.
        - Use case: Long-term processing and storage of sensitive data.
        - Single AZ deployment with intra-AZ replication.

## **3. Amazon FSx for NetApp ONTAP**

- **Type:** Managed NetApp ONTAP file system on AWS.
- **Protocols:** NFS, SMB, iSCSI.
- **Use Case:** Migrating workloads already running on ONTAP or NAS on-premises to AWS.
- **Compatibility:** Broad compatibility with Linux, Windows, macOS, VMware Cloud on AWS, WorkSpaces, AppStream, EC2, ECS, EKS.
- **Features:**
    - Automatic storage shrink and grow (auto-scaling).
    - Replication and snapshots.
    - Low cost, data compression, data de-duplication.
    - Point-in-time instantaneous cloning (for testing, staging).

## **4. Amazon FSx for OpenZFS**

- **Type:** Managed OpenZFS file system on AWS.
- **Protocols:** NFS (multiple versions).
- **Use Case:** Migrating workloads already running on ZFS internally to AWS.
- **Compatibility:** Broad compatibility with Linux, Mac, Windows.
- **Performance:** Scales up to 1 million IOPS with less than 0.5 ms latency.
- **Features:**
    - Snapshots, compression, low cost.
    - **No** data de-duplication.
    - Point-in-time instantaneous cloning (for testing).

This information should help you choose the appropriate Amazon FSx file system based on the requirements and use case presented in the exam.