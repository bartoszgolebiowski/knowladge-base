# App runner

## AWS App Runner Service

**Purpose:** Fully managed service for easy deployment of web applications and APIs at scale.

**Key Features and Concepts:**

- **Simplified Deployment:** Enables users to deploy applications to AWS without deep infrastructure knowledge (containers, source code, etc.).
- **Deployment Process:**
    1. Start with source code or a Docker container image.
    2. Configure basic settings (vCPUs, memory, Auto Scaling, health checks).
    3. App Runner automatically builds and deploys the web application.
    4. Container is created and deployed.
    5. API or web app is accessible via a URL.
- **Abstraction:** Users don't need to know the underlying AWS services used by App Runner.
- **Benefits:**
    - Automatic scaling.
    - High availability.
    - Load balancing.
    - Encryption.
    - VPC access for applications/containers (connect to databases, cache, message queues).
- **Use Cases:**
    - Quickly deploy web applications.
    - Deploy APIs.
    - Deploy microservices.
    - Rapid production deployments with best practices.
- **Simplicity and Power:** Easy to use for simple tasks but offers significant capabilities.

**Multi-Region Architecture with App Runner:**

![image.png](image%2020.png)

- **Cross-Region Image Replication:** Utilize Amazon ECR's Cross-Region Replication to have container images available in multiple regions.
- **Regional App Runner Deployments:** Run the App Runner service in multiple AWS regions (e.g., us-east-1 and us-west-2), leveraging the replicated container images.
- **Global Data Replication:** Employ Amazon DynamoDB Global Tables to replicate data across regions, allowing App Runner instances in different regions to access the same data source.
- **Traffic Distribution:** Use Amazon Route 53 with a latency-based routing policy to direct user traffic to the App Runner endpoint with the lowest latency.

**Example Architecture:**

1. **ECR Registry:** Docker image stored.
2. **Cross-Region Replication:** Image replicated to us-east-1 and us-west-2.
3. **Region 1 (us-east-1):**
    - App Runner service deployed, using the local ECR image.
    - Data persistence in a globally replicated DynamoDB Table.
4. **Region 2 (us-west-2):**
    - App Runner service deployed, using the local (replicated) ECR image.
    - Connects to the same globally replicated DynamoDB Table.
5. **Route 53:** Latency-based record pointing to both App Runner endpoints. Users are routed to the closest endpoint.