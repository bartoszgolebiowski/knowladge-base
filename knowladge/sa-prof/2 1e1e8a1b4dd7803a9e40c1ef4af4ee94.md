# 2

## AWS Route 53: Geolocation vs. Geoproximity Routing Policies

When configuring how Amazon Route 53 responds to DNS queries, you can choose from several routing policies to control where your traffic is directed. Two policies that leverage geographic information are Geolocation and Geoproximity, each serving distinct purposes in optimizing user experience and managing traffic distribution.

While both consider location, their fundamental approach to routing differs significantly.

### Geolocation Routing Policy

**Geolocation routing** is based on the *geographic location of the user* originating the DNS query. You define records for specific geographic locations (continents, countries, or even US states) and associate them with your resources (e.g., EC2 instances, load balancers, S3 buckets).

- **How it works:** Route 53 uses a global database mapping IP addresses to geographic locations. When a DNS query arrives, Route 53 identifies the user's location and returns the record specifically configured for that region.

### Geoproximity Routing Policy

**Geoproximity routing** routes traffic based on the *geographic location of your resources* and, optionally, a *bias* to influence traffic flow. This policy is particularly useful when you want to route traffic to the closest resource but also have the flexibility to shift traffic based on factors like resource capacity or desired load distribution.

- **How it works:** You define the geographic location of your resources (using AWS regions or custom latitude and longitude). Route 53 then routes traffic to the resource that is geographically closest to the user. The "bias" parameter allows you to expand or shrink the geographic area considered for a resource. A positive bias attracts more traffic to a resource by increasing its effective service area, while a negative bias reduces it.

### Key Differences Summarized

| Feature | Geolocation Routing Policy | Geoproximity Routing Policy |
| --- | --- | --- |
| **Basis for Routing** | User's geographic location | Proximity between user and resource locations |
| **Configuration** | Define records for specific geographic regions | Define resource locations and optional bias |
| **Traffic Control** | Explicit mapping of regions to resources | Routing to closest resource, adjustable with bias |
| **Primary Goal** | Content localization, compliance, geo-blocking | Routing to nearest resource, load distribution, traffic shifting |
| **Bias Option** | No | Yes |

For most services, events are recorded in the region where the action occurred to its respective AWS CloudTrail. ***For global services such as AWS Identity and Access Management (IAM), AWS STS, Amazon CloudFront, and Route 53, events are delivered to any trail that includes global services*** (IncludeGlobalServiceEvents flag). AWS CloudTrail service should be your top choice for the scenarios where the application is tracking the changes made by any AWS service, resource, or API.